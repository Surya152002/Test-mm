<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>tracker</title>
	<link rel="stylesheet" href="css/layout.css" type="text/css">
</head>
<body>
	<h2>Project for Finding the Seating Orientation of a user without using External Sensors</h2>

	<div id="images">
		<img src="http://www.jeep.com/assets/images/vehicles/2015/cherokee/vlp/mod-exterior-360/frame-1.jpg" id="cd">
	</div>

	<div id="text">
		<p id="alpha">Alpha:</p>
		<p id="beta">Beta:</p>
		<p id="gamma">Gamma:</p>
		<p id="seating">Orientation of Seating:</p>
		<p id="status">User Started using Application</p>
		<p id="message">Thanks for using Smart Chair</p>
		<p id="image">Using Image:</p>
	</div>

	<script>
		var lastImageNumber = 36;
		var images = [];
		for (var i = 1; i < lastImageNumber+1; i += 1) {
			images[i] = "http://www.jeep.com/assets/images/vehicles/2015/cherokee/vlp/mod-exterior-360/frame-" + i + ".jpg";
		}

		window.addEventListener("DOMContentLoaded", function() {
			for(var i in images) {
				var img = new Image();
				img.src = images[i];
				img.style.display = "none";
				img.addEventListener("load", function() {
					this.parentNode.removeChild(this);
				});
				document.getElementById('images').appendChild(img);
			}
		});

		function round(v) {
			return (v >= 0 || -1) * Math.round(Math.abs(v));
		}

		function updateText(event) {
			document.getElementById('alpha').textContent = "Alpha:" + Math.round(event.alpha);
			document.getElementById('beta').textContent = "Beta:" + Math.round(event.beta);
			document.getElementById('gamma').textContent = "Gamma:" + Math.round(event.gamma);
			var seatingText = "";
			if (Math.round(event.beta)<93 && (event.beta)>85) {
				seatingText = "Proper Seating Mode";
			} else if (Math.round(event.beta)<80) {
				seatingText = "Not Proper Seating Mode";
			}
			document.getElementById('seating').textContent = "Orientation of Seating:" + seatingText;
			if (Math.round(event.alpha)>0 && Math.round(event.beta)>0 && Math.round(event.gamma)>0) {
				document.getElementById('status').textContent = "User Started using Application";
			}
			var messageText = "";
			if (Math.round(event.gamma)<55 && Math.round(event.beta)<27) {
				messageText = "Thanks for using Smart Chair";
			} else if (Math.round(event.alpha)==0 && Math.round(event.beta)==0 && Math.round(event.gamma)==0) {
				messageText = "Thanks for using Smart Chair";
			}
			document.getElementById('message').textContent = messageText;
			document.getElementById('image').textContent = "Using Image: " + document.getElementById('cd').src;
		}

		// Orientation Check
		var supportsOrientation = "No";
</script>
    </body>
</html>